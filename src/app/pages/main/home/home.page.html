<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title>CheckMyBag</ion-title>
  </ion-toolbar>
</ion-header>


<ion-menu side="start" menuId="first" contentId="main-content">
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>Menú </ion-title>
      
      
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <ion-item button>
        <ion-icon slot="start" name="cart-outline"></ion-icon>
        <ion-label>Dashboard</ion-label>
      </ion-item>
      <ion-item button>
        <ion-icon slot="start" name="cash-outline"></ion-icon>
        <ion-label>Gastos Mensuales</ion-label>
      </ion-item>
      <ion-item button [routerLink]="['/map']">
        <ion-icon slot="start" name="share_location"></ion-icon>
        <ion-label>Supermercados Cercanos</ion-label>
      </ion-item>
      
      <ion-item button>
        <ion-icon slot="start" name="settings-outline"></ion-icon>
        <ion-label>Configuración</ion-label>
      </ion-item>
      <ion-item button>
        <ion-icon slot="start" name="person-circle-outline"></ion-icon>
        <ion-label>Perfil</ion-label>
       
      </ion-item>
      <ion-item button>
        <ion-icon slot="start" name="close-outline"></ion-icon>
        <ion-label (click)="signOut()">cerrar sesion </ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-router-outlet id="main-content"></ion-router-outlet>

<ion-content [fullscreen]="true" id="main-content">


  <!-- Tarjeta de Gastos Mensuales -->
  <ion-card  color="primary">
    <ion-card-header >
      <ion-card-title>Gastos Mensuales</ion-card-title>
      <ion-card-subtitle>Resumen de octubre</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <p>Total Gastos: $500.000</p>
      <p>Última actualización: 15 de octubre</p>
    </ion-card-content>
  </ion-card>

  <!-- Buscador -->
  <ion-searchbar color="primary" placeholder="Buscar"></ion-searchbar>

  <!-- Grilla de Cards (puedes agregar más si es necesario) -->
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header color="primary">
            <ion-card-title >Mis Compras</ion-card-title>
            <ion-card-subtitle>compras realizadas en el mes de octubre</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
           <ion-list>
            <ion-item-sliding class="product-item" *ngFor="let p of products" >
              <ion-item>
                <ion-avatar slot="start">
                  <img [src]="p.image" />
                </ion-avatar>

                <ion-label>
                  <div class="name">{{p.name}}</div>
                  <div class="data">
                    <strong>Precio:</strong> {{p.price | currency:'CLP $'}} <br>
                    <strong>Unidades compradas:</strong> {{p.soldUnits}} <br>
                  </div>
                  <ion-chip color="primary" mode="ios" outline="true">
                    <ion-label> Total Gastado  :{{p.price * p.soldUnits |currency:'CLP $'}}</ion-label>
                  </ion-chip>

                </ion-label>

              </ion-item>

              <ion-item-options >
                <ion-item-option (click)="addUpdateProduct(p)">
                  <ion-icon class="option-btn" name="create-outline"></ion-icon>
                 </ion-item-option>
   
                 <ion-item-option (click)="deleteProduct(p)"  color="danger"  >
                   <ion-icon class="option-btn"  name="trash-outline"></ion-icon>
                  </ion-item-option>
               </ion-item-options>




      
        
            </ion-item-sliding>

           </ion-list>
          </ion-card-content>
        </ion-card>
      </ion-col>
      <!-- Puedes añadir más columnas aquí según sea necesario -->
    </ion-row>
  </ion-grid>
</ion-content>

<!-- Botón para agtregar productos  -->
<ion-fab vertical="bottom" horizontal="end" slot="fixed">
  <ion-fab-button (click)="addUpdateProduct()">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-footer>
  <ion-toolbar>
    <ion-title></ion-title>
  </ion-toolbar>
</ion-footer>
